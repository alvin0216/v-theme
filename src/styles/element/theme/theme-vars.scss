$themes: (
  light: (
    color: (
      primary: #294e95,
      success: #67c23a,
      warning: #e6a23c,
      danger: #f56c6c,
      info: #909399,
    ),
    text: (
      primary: #303133,
      regular: #606266,
      secondary: #909399,
      placeholder: #1f2f50,
      disabled: #bbb,
    ),
    border: (
      color-base: #dcdfe6,
      color-hover: #c0c4cc,
      color-light: #e4e7ed,
      color-lighter: #ebeef5,
      color-extra-light: #f2f6fc,
    ),
    fill: (
      blank: #fff,
      base: #f5f7fa,
      overlay: #fff,
      dark: #fff,
    ),
    box-shadow: (
      base: #{0 2px 4px rgba(0, 0, 0, 0.12),
      0 0 6px rgba(0, 0, 0, 0.04)},
      dark: #{0 2px 4px rgba(0, 0, 0, 0.12),
      0 0 6px rgba(0, 0, 0, 0.12)},
      light: #{0 2px 12px 0 rgba(0, 0, 0, 0.1)},
    ),
  ),
  dark: (
    color: (
      primary: #409eff,
      success: #67c23a,
      warning: #e6a23c,
      danger: #f56c6c,
      info: #909399,
    ),
    text: (
      primary: #e5eaf3,
      regular: #cfd3dc,
      secondary: #a3a6ad,
      placeholder: #8d9095,
      disabled: #414243,
    ),
    border: (
      color-base: #4c4d4f,
      color-hover: #6c6e72,
      color-light: #414243,
      color-lighter: #363637,
      color-extra-light: #2b2b2c,
    ),
    fill: (
      blank: transparent,
      base: #262627,
      overlay: #1d1e1f,
      dark: #141414,
    ),
    box-shadow: (
      base: #{0px 12px 32px 4px rgba(0, 0, 0, 0.36),
      0px 8px 20px rgba(0, 0, 0, 0.72)},
      dark: #{0px 16px 48px 16px rgba(0, 0, 0, 0.72),
      0px 12px 32px #000000,
      0px 8px 16px -8px #000000},
      light: #{0px 0px 12px rgba(0, 0, 0, 0.72)},
    ),
  ),
);

@mixin define-vars($name, $vars) {
  @each $type, $value in $vars {
    --#{$name}-#{$type}: #{$value};
  }
}

@mixin gen-theme-vars() {
  $white: #fff;
  $dark: #141414;
  $black: #000;

  @each $theme, $vars in $themes {
    $colors: map-get($vars, color);
    $primary: map-get($colors, primary);
    $mix-color: if($theme == light, $white, $dark);
    $selector: if($theme == light, ':root', 'html.dark');

    #{$selector} {
      @each $name, $v in $vars {
        @include define-vars($name, $v);
      }

      @for $i from 1 through 9 {
        --color-primary-light-#{$i}: #{mix($mix-color, $primary, $i * 10%)};
      }
      @each $type, $value in map-remove($colors, primary) {
        --color-#{$type}-light: #{mix($mix-color, $value, 80%)};
        --color-#{$type}-lighter: #{mix($mix-color, $value, 90%)};
      }

      //   ======== component vars ======

      $hover-percent: if($theme == light, 20%, 30%);
      $active-percent: if($theme == light, 10%, 20%);
      $active-mix-color: if($theme == light, $black, $white);
      $button: ();
      $link: ();
      $components: ();

      @if ($theme == light) {
        $button: (
          active-color: $primary,
          loading-background: rgba(255, 255, 255, 0.35),
          text-hover-color: mix($white, $primary, $hover-percent),
          text-active-color: mix($black, $primary, $active-percent),
          disabled-color: #fff,
          disabled-font-color: var(--text-placeholder),
          disabled-border-color: var(--border-color-lighter),
        );
        @each $type, $value in $colors {
          $button: map-merge(
            $button,
            (
              #{$type}-hover: mix($white, $value, $hover-percent),
              #{$type}-active: mix($black, $value, $active-percent),
              #{$type}-disabled: mix($value, $white),
              #{$type}-plain-background: mix($white, $value, 90%),
              #{$type}-plain-border-color: mix($white, $value, 60%),
              #{$type}-plain-disabled-color: mix($white, $value, 40%),
              #{$type}-plain-disabled-background: mix($white, $value, 90%),
              #{$type}-plain-disabled-border-color: mix($white, $value, 80%)
            )
          );

          $link: map-merge(
            $link,
            (#{$type}-hover-color: mix($value, $white, 80%), #{$type}-disabled-color: mix($value, $white, 50%))
          );
        }

        $components: (
          loading-background: rgba(255, 255, 255, 0.9),
          slider-button-hover-color: mix($primary, black, 97%),
          checkbox-disabled-input-fill: #edf2fc,
          checkbox-button-box-shadow: -1px 0 0 0 var(--color-primary-light-4),
          select-multiple-input-color: #666,
          message-shadow: var(--box-shadow-base),
          message-background-color: #edf2fc,
          cascader-tag-background: #f0f2f5,
          dialog-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3),
          table-fixed-box-shadow: 0 0 10px rgba(0, 0, 0, 0.12),
          popover-border-color: var(--border-color-lighter),
          dropdown-menuItem-hover-color: var(--color-primary-light-2),
          card-border-color: var(--border-color-lighter),
          rate-icon-color: var(---text-placeholder),
          datepicker-inner-border-color: #e4e4e4,
          calendar-selected-background-color: #f2f8fe,
          avatar-background-color: #c0c4cc,
          skeleton-color: #f2f2f2,
          skeleton-to-color: #e6e6e6,
          svg-monochrome-grey: #dcdde0,
          color-picker-hover-color: tint($primary, $hover-percent),
          descriptions-item-bordered-label-background: #fafafa,
        );
      } @else {
        $button: (
          active-color: $primary,
          active-background: var(--color-primary-light-9),
          loading-background: rgba(0, 0, 0, 0.3),
          text-hover-color: var(--color-primary-light-5),
          text-active-color: mix($white, $primary, 20%),
          disabled-color: var(--text-placeholder),
          disabled-font-color: rgba(255, 255, 255, 0.5),
          disabled-border-color: var(--border-color-light),
        );
        @each $type, $value in $colors {
          $button: map-merge(
            $button,
            (
              #{$type}-hover: mix($dark, $value, $hover-percent),
              #{$type}-active: mix($white, $value, $active-percent),
              #{$type}-disabled: mix($value, $dark, 50%),
              #{$type}-plain-background: mix($dark, $value, 90%),
              #{$type}-plain-border-color: mix($dark, $value, 60%),
              #{$type}-plain-disabled-color: mix($dark, $value, 50%),
              #{$type}-plain-disabled-background: mix($dark, $value, 90%),
              #{$type}-plain-disabled-border-color: mix($dark, $value, 80%)
            )
          );

          $link: map-merge(
            $link,
            (#{$type}-hover-color: mix($value, $dark, 70%), #{$type}-disabled-color: mix($value, $dark, 50%))
          );
        }
        $components: (
          loading-background: rgba(0, 0, 0, 0.8),
          slider-button-hover-color: mix($primary, black, 97%),
          checkbox-disabled-input-fill: #262627,
          checkbox-button-box-shadow: -1px 0 0 0 var(--color-primary-light-7),
          select-multiple-input-color: var(--text-regular),
          message-shadow: var(--box-shadow-light),
          message-background-color: var(--color-info-lighter),
          cascader-tag-background: #303030,
          dialog-box-shadow: var(--box-shadow-base),
          table-fixed-box-shadow: 0 0 10px rgba(0, 0, 0, 0.15),
          popover-border-color: var(--border-color-light),
          dropdown-menuItem-hover-color: var(--color-primary),
          card-border-color: var(--border-color-light),
          rate-icon-color: #636466,
          datepicker-inner-border-color: var(--border-color-light),
          calendar-selected-background-color: var(--color-primary-light-9),
          avatar-background-color: var(--text-disabled),
          skeleton-color: #303030,
          skeleton-to-color: var(--border-color-light),
          svg-monochrome-grey: var(--border-color-base),
          color-picker-hover-color: tint($primary, $hover-percent),
          descriptions-item-bordered-label-background: var(--fill-base),
        );
      }

      @each $name, $v in $components {
        --#{$name}: #{$v};
      }

      .el-button {
        @include define-vars(button, $button);
      }
      .el-link {
        @include define-vars(link, $link);
      }
    }
  }
}

@include gen-theme-vars();
